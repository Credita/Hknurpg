<!DOCTYPE html>
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>한경 guide</title>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css"/>

  <script  src="https://code.jquery.com/jquery-3.2.1.slim.min.js"  integrity="sha256-k2WSCIexGzOj3Euiig+TlR8gA0EmPjuc79OEeY5L45g="  crossorigin="anonymous"></script>

  <link rel="apple-touch-icon" sizes="57x57" href="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\icon/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\icon/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\icon/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\icon/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpgicon/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\icon/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\icon/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\icon/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\icon/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\icon/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\icon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\icon/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\icon/favicon-16x16.png">
  <link rel="manifest" href="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\icon/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\icon/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <style>
      html {
        padding: 20px;
      }
  </style>

  <script>
  config = {
    version : "1.3.1",
    changeLog: [],
    lang: "kor"
  }
  </script>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-112999284-1"></script>

  <script src= "C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\cssjs\translations.js"></script>
  <link rel="stylesheet" href="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\cssjs\common.css"></link>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap-confirmation2@4.0.0/dist/bootstrap-confirmation.min.js"></script>
  <nav class="header navbar-expand-lg navbar navbar-dark bg-primary">
  <h1 class="navbar-brand">한경 RPG</h1>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\webpage\rpg-item.html">아이템</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\webpage\rpg-class.html">캐릭터</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\webpage\rpg-changelog.html">변경 내역보기</a>
        </li>
          <li class="nav-item active">
            <a class="nav-link" href="http://www.hknu.ac.kr/web/kor" target="_blank">공식 사이트</a>
          </li>
      </ul>
    </div>
  </nav>

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">

</head>

<div class = "items-build content container-fluid d-flex h-100 flex-column" style="padding: 0px 20px 20px 20px">
    <div class = "row">
      <div class=" col-3 text-center" style="margin-bottom:10px;font-size:24px;">
        <span class="text-capitalize">magic</span> by Credita
      </div>
    </div>
  <div class = "row bg-faded fill d-flex justify-content-start">
    <div class = "col-3">
      <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist">
            <a class="nav-link text-capitalize active" id="weapon-tab" data-toggle="pill" href="#weapon" role="tab" aria-controls="weapon" aria-expanded="true">무기</a>
            <a class="nav-link text-capitalize " id="armor-tab" data-toggle="pill" href="#armor" role="tab" aria-controls="armor" aria-expanded="false">갑옷</a>
            <a class="nav-link text-capitalize " id="accessory-tab" data-toggle="pill" href="#accessory" role="tab" aria-controls="accessory" aria-expanded="false">악세서리</a>
            <a class="nav-link text-capitalize " id="helmet-tab" data-toggle="pill" href="#helmet" role="tab" aria-controls="helmet" aria-expanded="false">투구</a>
            <a class="nav-link text-capitalize " id="artifact-tab" data-toggle="pill" href="#artifact" role="tab" aria-controls="artifact" aria-expanded="false">아티팩트</a>
            <a class="nav-link text-capitalize " id="auxiliary-tab" data-toggle="pill" href="#auxiliary" role="tab" aria-controls="auxiliary" aria-expanded="false">보조장비</a>
          <ul style='margin-top:20px' class="list-group">
            <li class="list-group-item">
              <pre>마법사 1</pre>
            </li>
          </ul>
      </div>
    </div>
    <div class = "col-9 container-fluid d-flex h-100 flex-column">
      <div class="tab-content" id="v-pills-tabContent">
          <div class="tab-pane fade show active" id="weapon" role="tabpanel" aria-labelledby="weapon-tab" aria-expanded="true">
              <div class = "row">
                <div class = "col-2">
                  <span><b>메인 </b></span>
                </div>
                <div class = "col">
                  <span data-item-id="I08Y"><span class="blue item-tooltip" data-placement="bottom" data-toggle="tooltip" data-html="true" title="공격력 : +160000<br/>힘 : +4000<br/>민첩 : +4000<br/>기본공격시 확률적으로 붉은 달빛의 힘으로 적을 공격함 (12% 기회 300000 + (STR + AGI) x7)<br/>사용시 달빛 폭발 발생 (300000 + (STR + AGI) x70)(쿨타임 80초)">붉은달빛 단검</span></span>
                    <button style="margin-left: 20px" data-item="bloody_moonlight_dagger" class = "btn btn-primary build-tree" data-toggle="modal" data-target="#item-tree-modal">빌드 트리보기</button>
                </div>
              </div>
                <div class = "row">
                  <div class = "col-2">
                    <span><b>스위칭 </b></span>
                  </div>
                  <div class = "col">
                      <div>
                          <span data-item-id="I080"><span class="blue item-tooltip" data-placement="bottom" data-toggle="tooltip" data-html="true" title="공격력 : +160000<br/>민첩 : +5000<br/>사용시 주변유닛의 정기를 흡수하며 흡수된 수에비례 생명력 회복 20초간 민첩 28% 증가 (쿨타임 120초)<br/><br/>Mother Tree (1.5% chance)<br/> Mother Tree (Small) (1.2% chance)<br/> Archangel Treasure Chest (2.33% chance)">세계수의 나뭇가지</span></span>
                      </div>
                  </div>
                </div>
          </div>
          <div class="tab-pane fade " id="armor" role="tabpanel" aria-labelledby="armor-tab" aria-expanded="false">
              <div class = "row">
                <div class = "col-2">
                  <span><b>메인 </b></span>
                </div>
                <div class = "col">
                  <span data-item-id="I0BI"><span class="blue item-tooltip" data-placement="bottom" data-toggle="tooltip" data-html="true" title="갑옷 : +900<br/>민첩 : +3500<br/>HP : +25000<br/>받는데미지 : -18%">최고급 미스릴 경갑</span></span>
                    <button style="margin-left: 20px" data-item="exquisite_mithril_greaves" class = "btn btn-primary build-tree" data-toggle="modal" data-target="#item-tree-modal">빌드 트리보기</button>
                </div>
              </div>
          </div>
          <div class="tab-pane fade " id="accessory" role="tabpanel" aria-labelledby="accessory-tab" aria-expanded="false">
              <div class = "row">
                <div class = "col-2">
                  <span><b>메인 </b></span>
                </div>
                <div class = "col">
                  <span data-item-id="I0GP"><span class="blue item-tooltip" data-placement="bottom" data-toggle="tooltip" data-html="true" title="힘 : +2500<br/>민첩 : +2500<br/>지능 : +2500<br/>20%확률 3배 크리티컬">교언의 자수정</span></span>
                    <button style="margin-left: 20px" data-item="amethyst_gem" class = "btn btn-primary build-tree" data-toggle="modal" data-target="#item-tree-modal">빌드 트리보기</button>
                </div>
              </div>
                <div class = "row">
                  <div class = "col-2">
                    <span><b>스위칭 </b></span>
                  </div>
                  <div class = "col">
                      <div>
                          <span data-item-id="I08F"><span class="blue item-tooltip" data-placement="bottom" data-toggle="tooltip" data-html="true" title="지능 : +2500<br/>힘 : +2500<br/>민첩 : +2500<br/>추가데미지 : +23%<br/>사용시 15초간 추가데미지 60%증가(쿨타임 120초)">요르단 반지</span></span>
                            <button style="margin-left: 20px" data-item="black_soul_ring" class = "btn btn-primary build-tree" data-toggle="modal" data-target="#item-tree-modal">빌드 트리보기</button>
                      </div>
                  </div>
                </div>
          </div>
          <div class="tab-pane fade " id="helmet" role="tabpanel" aria-labelledby="helmet-tab" aria-expanded="false">
              <div class = "row">
                <div class = "col-2">
                  <span><b>메인 </b></span>
                </div>
                <div class = "col">
                  <span data-item-id="I0CX"><span class="blue item-tooltip" data-placement="bottom" data-toggle="tooltip" data-html="true" title="갑옷 : +700<br/>힘 : +1300<br/>민첩 : +1300<br/>지능 : +1300<br/>추가데미지 : +28%">불타는 기운의 투구</span></span>
                    <button style="margin-left: 20px" data-item="surging_flame_helmet" class = "btn btn-primary build-tree" data-toggle="modal" data-target="#item-tree-modal">빌드 트리보기</button>
                </div>
              </div>
          </div>
          <div class="tab-pane fade " id="artifact" role="tabpanel" aria-labelledby="artifact-tab" aria-expanded="false">
              <div class = "row">
                <div class = "col-2">
                  <span><b>메인 </b></span>
                </div>
                <div class = "col">
                  <span data-item-id="I0BF"><span class="blue item-tooltip" data-placement="bottom" data-toggle="tooltip" data-html="true" title="힘 : +2100<br/>민첩 : +2100<br/>지능 : +2100<br/>공격속도 : +150%<br/>이동속도 증가 : +150%<br/>사용시 전방으로 대쉬(쿨타임8초)">번개각인 각반</span></span>
                    <button style="margin-left: 20px" data-item="lightning_boots" class = "btn btn-primary build-tree" data-toggle="modal" data-target="#item-tree-modal">빌드 트리보기</button>
                </div>
              </div>
          </div>
          <div class="tab-pane fade " id="auxiliary" role="tabpanel" aria-labelledby="auxiliary-tab" aria-expanded="false">
              <div class = "row">
                <div class = "col-2">
                  <span><b>메인 </b></span>
                </div>
                <div class = "col">
                  <span data-item-id="I0D2"><span class="blue item-tooltip" data-placement="bottom" data-toggle="tooltip" data-html="true" title="힘 : +400<br/>민첩 : +400<br/>지능 : +400<br/>추가데미지 : +8%<br/><br/>Blue Dragon (3% chance)<br/> Blue Dragon (Small) (2.4% chance)<br/> Black Soul Stone (8.44% chance)">일격룬</span></span>
                </div>
              </div>
          </div>
      </div>
      <div data-char-id="E041" style = "margin:20px" class = "fill d-flex justify-content-start">
        <div class = "img"></div>
      </div>
    </div>
  </div>

<script>
 $(".get-code").click(function(){
   var items = $("[data-item-id]").map(function(){return $(this).data("item-id")}).toArray()

   fetch("/getCode", {
     method: 'post',
     headers: {
       'Accept': 'application/json, text/plain, */*',
       'Content-Type': 'application/json'
     },
     body: JSON.stringify({items: items, str: $(".strength").val(), agi: $(".agility").val(), int: $(".intelligence").val(), char: $("[data-char-id]").data("char-id")})
   }).then((res) => res.json()).then((res) => {
     $("#code").find(".code").empty();

     res.forEach((v, idx) => {
       $("#code").find(".code-" + (idx  + 1)).html("<span></span>").find("span").text("Code "+(idx + 1)+": " + res[idx])
     })

     $("#code").modal()
   }).catch((err) => {
       showError(err);
       $(".star").removeClass("disabled")
   });


 })
</script>
 <style>

 html,body {
     height: 100%;
 }

 .fill {
     flex:1;
 }

 .img {
   flex: 1;
   width: auto;
   height: 100%;
   background-size: contain;
   background-position: center center;
   background-repeat: no-repeat;
   background-image: url("https://images6.alphacoders.com/341/341069.jpg");
 }
 </style>

 <script src="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\cssjs\items.js"></script>
 <script>checkLanguage(items, "kor");</script>
 <link href="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\cssjs\items.css" rel ="stylesheet"></link>
 <script src="C:\Users\credi\OneDrive\바탕 화면\과제\HTML\rpg\cssjs\itemUtils.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.4/raphael-min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/treant-js/1.0/Treant.min.js"></script>
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/treant-js/1.0/Treant.css"></link>
 <div class="modal fade" id="item-tree-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
   <div class="modal-dialog modal-lg" role="document">
     <div class="modal-content">
       <div class="modal-header">
         <h5 class="modal-title text-center col-12"></h5>
       </div>
       <div class="modal-body">
         <div id="item-tree" style="width:100%;height:500px"></div>
       </div>
     </div>
   </div>
 </div>

 <style>
   .node {
     padding: 0 2px;
     min-width: 60px;
     text-align: center;
     height: 30px;
     background: #fff;
   }

   .node.node-name {
     line-height: 30px;
     color: #9B9B9B;
   }
 </style>

 <script>
   var simple_chart_config = {
         chart: {
             container: "#item-tree",
             rootOrientation: "EAST",
             nodeAlign: "BOTTOM",
             connectors: {
               type: "step",
               style: {
                 "stroke-width": 2
               }
             },
             levelSeparation:    45,
         },
         nodeStructure: null
     };

     $('#item-tree-modal').on('shown.bs.modal', function (event) {
       var button = $(event.relatedTarget)
       var item = button.data('item')
       simple_chart_config.nodeStructure = getItemTree(item);
       item = items[item];
       var modal = $(this);
       modal.find(".modal-title").html(`${translate("Build Tree for")} <span class = '${item.color}'>${item.label}</span>`)
       new Treant(simple_chart_config);
       $('#item-tree-modal').find(".item-tooltip").tooltip({container: $('#item-tree-modal'), placement: "bottom"});
     })

     $(".item-tooltip").tooltip({placement: "bottom"});
 </script>
